<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Community Manager - Andalucía Flamenco Land</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    h1 { color: #b22222; }
    h2 { margin-top: 2em; }
    .seccion { margin-bottom: 2em; }
    .tarea { margin-bottom: 0.5em; }
    .completada { text-decoration: line-through; color: #888; }
    .barra-progreso {
      background: #eee; border-radius: 6px; height: 20px; width: 300px; margin-bottom: 1em;
      overflow: hidden; box-shadow: 0 1px 2px #ccc inset;
    }
    .progreso {
      background: #b22222; height: 100%; transition: width 0.3s;
    }
  </style>
</head>
<body>
  <h1>Dashboard Community Manager</h1>
  <h3>Andalucía Flamenco Land – Control Semanal de Tareas</h3>

  <div id="resumen"></div>

  <div class="seccion" id="instagram">
    <h2>Instagram</h2>
    <div class="tarea"><input type="checkbox" id="ig1"> Publicar 1 post temático</div>
    <div class="tarea"><input type="checkbox" id="ig2"> Crear 2 stories interactivas</div>
    <div class="tarea"><input type="checkbox" id="ig3"> Subir 1 reel viral</div>
    <div class="tarea"><input type="checkbox" id="ig4"> Responder comentarios</div>
    <div class="tarea"><input type="checkbox" id="ig5"> Analizar métricas semanales</div>
  </div>

  <div class="seccion" id="tiktok">
    <h2>TikTok</h2>
    <div class="tarea"><input type="checkbox" id="tt1"> Publicar video de tendencia</div>
    <div class="tarea"><input type="checkbox" id="tt2"> Participar en challenge</div>
    <div class="tarea"><input type="checkbox" id="tt3"> Responder mensajes</div>
    <div class="tarea"><input type="checkbox" id="tt4"> Analizar hashtags virales</div>
  </div>

  <div class="seccion" id="facebook">
    <h2>Facebook</h2>
    <div class="tarea"><input type="checkbox" id="fb1"> Publicar contenido educativo</div>
    <div class="tarea"><input type="checkbox" id="fb2"> Gestionar grupo privado</div>
    <div class="tarea"><input type="checkbox" id="fb3"> Crear evento virtual</div>
  </div>

  <div class="seccion" id="youtube">
    <h2>YouTube</h2>
    <div class="tarea"><input type="checkbox" id="yt1"> Subir video educativo</div>
    <div class="tarea"><input type="checkbox" id="yt2"> Optimizar título y descripción</div>
  </div>

  <button onclick="resetTareas()">Nueva Semana (Reset)</button>

  <script>
    // Guardar el estado de los checkboxes en localStorage
    function saveCheckboxStates() {
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      let state = {};
      checkboxes.forEach((checkbox) => {
        state[checkbox.id] = checkbox.checked;
      });
      localStorage.setItem('dashboardTareas', JSON.stringify(state));
      updateResumen();
    }

    // Cargar el estado de los checkboxes desde localStorage
    function loadCheckboxStates() {
      const state = JSON.parse(localStorage.getItem('dashboardTareas') || '{}');
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach((checkbox) => {
        if (state.hasOwnProperty(checkbox.id)) {
          checkbox.checked = state[checkbox.id];
        }
        updateTareaVisual(checkbox);
      });
      updateResumen();
    }

    // Actualizar el estilo visual de la tarea completada
    function updateTareaVisual(checkbox) {
      if (checkbox.checked) {
        checkbox.parentElement.classList.add('completada');
      } else {
        checkbox.parentElement.classList.remove('completada');
      }
    }

    // Actualizar resumen y barra de progreso
    function updateResumen() {
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      const total = checkboxes.length;
      let completadas = 0;
      checkboxes.forEach(cb => { if (cb.checked) completadas++; });
      const porcentaje = Math.round((completadas / total) * 100);
      document.getElementById('resumen').innerHTML =
        `<b>Progreso semanal:</b> ${completadas} de ${total} tareas (${porcentaje}%)<br>
        <div class="barra-progreso"><div class="progreso" style="width:${porcentaje}%;"></div></div>`;
    }

    // Resetear todas las tareas y limpiar localStorage
    function resetTareas() {
      if (confirm('¿Seguro que quieres reiniciar todas las tareas para una nueva semana?')) {
        localStorage.removeItem('dashboardTareas');
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(cb => { cb.checked = false; updateTareaVisual(cb); });
        updateResumen();
      }
    }

    // Asignar eventos a los checkboxes
    document.addEventListener('DOMContentLoaded', function() {
      loadCheckboxStates();
      document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          updateTareaVisual(checkbox);
          saveCheckboxStates();
        });
      });
    });
  </script>
</body>
</html>

